---
title: Сцены
weight: 30
---

Сцена представляет собой область для размещения элементов интерфейса пользователя. Элементы могут быть разных типов
и служить как для иформирования о состоянии системы, так и для управления различным оборудованием и режимами
функционирования. В системе может быть множество сцен. Все сцены вместе доступны по ссылке:
```
http://IP_адрес_сервера/popup/scenes.html
```
В таком случае, для переключения между сценами можно использовать соответствующий переключатель в нижней части экрана.
Кроме того, каждая сцена может быть открыта в отдельности по ссылке вида:
```
http://IP_адрес_сервера/popup/scenes/{ID}.html
```
(вместо {ID} указывается цифровой идентификатор сцены)

## Общие настройки

Детали сцены включают:

- **Название** -- ???
- **Приоритет** -- ???
- Флаг **Не включать в список переключающихся сцен** -- ???
- Режим **Автоматически изменять размер сцены** -- ???
  - По ширине и высоте -- ???
  - По ширине -- ???
  - По высоте -- ???
- **Фоновое изображение** -- ???
- **Обои** -- ???
  - fixed -- ???
  - no repeat -- ???
- **Фон для устройств (Тема)** -- ???
- **Контроль доступа** -- ???

![](../ui-scene-details.png)

Так же для сцены доступны функции:

- **Создать копию (клонировать)** -- создание новой сцены с копией всех элементов текущей;
- **Экспорт** -- экспорт сцены и элементов в файл;
- **Просмотр** -- открытие данной сцены в режиме просмотра отдельно от остальных сцен;

## Элементы

Сцена состоит из элементов разных типов. Каждый тип элементов имеет определённые характеристики и некоторые особенности 
использования. 

![](../ui-scene-elements.png)

На экране с общим списком элементов сцены они могут быть выбраны по отдельности и экспортированы в файл -- функция экспорта вызывается
по клавише в нижней части списка. Также доступна обратная функция -- импорта элементов из файла. Файл экспорта может быть использован
для копирования нескольких элементов из одной сцены в другую, а также для передачи настроек элементов между системами различных
пользователей.

**Основные характеристики элементов** (доступность некоторых характеристик зависит от типа элемента):

- Название
- Приоритет
- Сцена
- Тип
- Связанный объект / метод / свойство
- Использовать элемент
- Стиль  
- Анимация появления
- Позиционирование
  - Абсолютное
  - Друг за другом
- Позиционировать относительно    
- Отступ слева
- Отступ сверху
- Расположить в контейнере
- Авто-повтор
- Контроль доступа -- подробнее в разделе [Контроль доступа]({{<ref "/docs/Configuration/config-access">}})
- Состояния (см. ниже)

**Состояния элемента**

- Название
- Код
- Выполнить при клике
  - Ничего не делать
  - Выполнить сценарий
  - Запускать объект.метод
  - Код
  - Показать меню при клике
  - Показать домашнюю страницу при клике
  - Показать другую сцену
  - Открыть ссылку при клике
- Условие отображение
  - n/a (всегда показывать)  
  - Простое
  - Расширенное
  - Переключить на сцену при активации
- Приоритет  

Ниже приведены **основные типы элементов сцен**.

### Устройство

Добавление на сцену Простого Устройства (ПУ). Добавление данного типа элемента аналогично использованию вкладки Устройства (см. ниже описание),
но позволяет дополнительно настроить позиционирование и эффект появления на сцене.

![](../ui-scene-element-device.png)

### Выключатель

Элемент с иконкой, названием и отображением состояния объекта в зависимости от значения связанного свойства. Также данный элемент
вызывает методы turnOn/turnOff по нажатии на него.

![](../ui-scene-element-switch.png)

### Информер

Элемент предназначен для отображения значений. Возможна настройка состояний при выходе за установленный пороги минимальных и/или
максимальных значений.

![](../ui-scene-element-informer.png)

### Уведомление

Отображение сообщения на сцене при наступлении заданных условий.

![](../ui-scene-element-notify.png)

### Изображение

Элемент вывода изображения.

![](../ui-scene-element-image.png)

### HTML

Один из самых гибких элементов -- позволяет использовать произвольный HTML-код для состояний. Дополнительно
можно подключить использование CSS и JavaScript-кодов, которые будут общими для всех состояний элемента.

![](../ui-scene-element-html.png)

### Контейнер

Контейнер является специальным элементом, позволяющим объединять другие элементы в группу и настраивать
поведение этой группы. Данный элемент удобно использовать для установки общего условия отображения группы,
а так же для того, чтобы позиционировать элементы внутри контейнера, независимо от позиции самого контейнера
на сцене.

![](../ui-scene-element-container.png)

Редактирование элемента:

![](../ui-scene-element-container-edit.png)

### Слайдер

Слайдер -- элемент позволяющий последовательно показывать сменяющие друг друга блоки, заданные через Состояния.

Настройка *Анимация появления* отвечает за тип анимации слайдера (Справа-на-лево, Снизу-вверх, Моргание).

Блок *Дополнительный код Javascript* позволяет задать опции слайдера ([полный список опций](http://ganlanyuan.github.io/tiny-slider/#options\))

![](../ui-scene-element-slider-edit.png)

### Индикатор режима

Элемент для отображения состояния объекта, например одного из режимов работы системы. 
После добавления и указания связанного объекта будет автоматически создано два состояния (on/off), привязаны
зависимости отображения к свойству active и указаны методы выполнения при нажатии на состояние (activate/deactivate).

Через изменение стиля можно задать иконку, отвечающую за указанный режим.

![](../ui-scene-element-mode.png)

Редактирование элемента:

![](../ui-scene-element-mode-edit.png)

### Клавиша

Простой элемент управления, позволяющий привязать вызов метода к нажатию на клавишу.

![](../ui-scene-element-button.png)

Редактирование элемента:

![](../ui-scene-element-button-edit.png)

### Нав. ссылка (новое окно/переход)

Два схожих элемента, служат для навигации.

При использовании элемента типа *Навигационная ссылка (новое окно)* по клику
на сцене открывается дополнительное окно, внутри которого открывается заданная ссылка. 

Если использовать элемент
типа *Навигационная ссылка (переход)*, то по клику будет осуществлён переход по ссылке.

![](../ui-scene-element-link.png)

Редактирование элемента:

![](../ui-scene-element-link-edit.png)

### Menu control

Элемент вставки меню управления на сцену.

![](../ui-scene-element-menu.png)

Редактирование элемента:

![](../ui-scene-element-menu-edit.png)

### Объект

Элемент служит для вставки Объекта. Для показа объекта используется его [Шаблон отображения]({{<ref "/docs/Integration/integration-object-templates">}}).

В связи с тем, что отображение Простых устройств использует тот же механизм шаблонов, то вставка объекта, связанного с устройством
будет аналогично добавлению элемента типа Устройство.

Редактирование элемента:

![](../ui-scene-element-object-edit.png)

## Устройства

Закладка Устройства позволяет оперативно добавить на сцену элементы управлений [Простых Устройств]({{<ref "/docs/Configuration/config-devices">}}).
При добавлении устройства можно выбрать тип шаблона отображения (полный/мини). Непосредственное расположение элементов на сцене необходимо
изменить открыв сцену в режиме редактирования (см. ниже).

![](../ui-scene-devices.png)

## Виджеты

Виджеты являются альтернативой Элементов. Они, с одной стороны, менее гибкие в плане возможных настроек отображения, однако,
с другой стороны, более простые в использовании и дают возможность размещать информацию на сцене указав минимальное количество
параметров.

![](../ui-scene-widgets.png)

Пример интерфейса настройки виджета *Текстовый блок*:

![](../ui-scene-widgets-text.png)

## Работа со сценой в режиме редактирования

Открытие сцены в режиме редактирование позволяет визуально изменять положение добавленных элементов, менять их размер,
переходить в настройку отдельного элемента (левым кликом мышки), а также добавлять новые на место курсора (правым кликом мышки).

![](../ui-scene-edit-mode.png)
